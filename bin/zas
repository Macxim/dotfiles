#!/bin/zsh

export DOTFILES="$( cd "$( dirname "${0}" )"/../ && pwd )"
source $DOTFILES/helper.zsh

echo "                              ";
echo "โโโโโโโโโโโ โโโโโโ โโโโโโโโโโโ";
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ";
echo "โโโ  โโโโโ โโโโโโโโโโโโโโโโโโโ";
echo "โโโ โโโโโ  โโโโโโโโโโโโโโโโโโโ";
echo "โโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ";
echo "โโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ";
echo "                              ";


# Ask for the administrator password upfront
sudo -v

# Update dotfiles from remote
echo_title_update "from remote"

cd $DOTFILES
git pull origin master
git submodule init
git submodule update

export FULLINSTALL=false
if [ "$1" = "--full" ]
then
	FULLINSTALL=true
	read -p "Did you downloaded Xcode from the AppStore?" confirm && [[ $confirm == [yY] || $confirm == [yY][eE][sS] ]] || exit 1
	xcode-select --install
	sudo xcodebuild -license

	git clone --recursive https://github.com/sorin-ionescu/prezto.git "${ZDOTDIR:-$HOME}/.zprezto"
fi

source $DOTFILES/bin/zasca

echo ""
echo_info "We're done here! ยกTodo instalado!"
echo_success "๐  Everything was installed successfully. Enjoy your new setup! ๐ "
