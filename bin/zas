#!/bin/zsh

export DOTFILES="$( cd "$( dirname "${0}" )"/../ && pwd )"
source $DOTFILES/helper.zsh

echo "                              ";
echo "${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗ ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗ ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗";
echo "╚═╝╚══${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔╝${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔══${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔════╝${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║";
echo "${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗  ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔╝ ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║";
echo "${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║ ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔╝  ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╔══${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║╚════${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║╚═╝";
echo "${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║  ${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}║${COLOR_CYAN}█${COLOR_RESET}${COLOR_CYAN}█${COLOR_RESET}╗";
echo "╚═╝╚══════╝╚═╝  ╚═╝╚══════╝╚═╝";
echo "                              ";


# Ask for the administrator password upfront
sudo -v

# Update dotfiles from remote
echo_title_update "from remote"

cd $DOTFILES
git pull origin master >/dev/null 2>&1
git submodule init
git submodule update

export FULLINSTALL=false
if [ "$1" = "--full" ]
then
	FULLINSTALL=true
	git clone --recursive https://github.com/sorin-ionescu/prezto.git "${ZDOTDIR:-$HOME}/.zprezto"
fi

source $DOTFILES/bin/zasca

echo ""
echo "🎉 ${COLOR_GREEN}Done!. Enjoy your new setup!${COLOR_RESET}"
