#!/bin/zsh
source $DIR_DOTFILES/backpack/functions.sh

if ! type "brew" > /dev/null; then
  echo_title_install "Homebrew (brew)"
  ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go/install)"
  brew doctor
  # note: brew install run
  # xcode-select --install
  # yeah this is cool
else
	echo_title "Homebrew (brew) already installed"
fi

source brewu

brewtap homebrew/dupes
brewtap josegonzalez/homebrew-php

echo_title_install "brew packages"

PACKAGES=(
	zsh-completions

	git
	hub
	ghi

	node

	# for grunt-webfont
	fontforge
	ttfautohint

	# to create favicons
	icoutils

	# ruby
	# python
	#sudo easy_install pip ?

	php55
	mysql
	php55-http

	# phantomjs
	# casperjs
	# slimerjs

	# youtube-dl
	# sub2srt
)

for pkg in $PACKAGES; do
	brew install $pkg 2>&1 | grep -v "already installed"
done

# mysql auto start
ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents &> /dev/null
launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist &> /dev/null
