#!/bin/zsh
source $DIR_DOTFILES/backpack/functions.sh

# npm is now included with Node
echo_title_installupdate "NPM packages"

if [ "$FULLFIRE" = "true" ]
then
	source npmu
fi

echo_title_install "NPM packages"

typeset -A PACKAGES
PACKAGES=(
	autoprefixer autoprefixer
	bower bower
	gulp gulp
	grunt-cli grunt
	happyplan-cli happyplan
	travis-encrypt travis-encrypt
	csslint csslint
	jshint jshint
	jscs jscs
)

for PKG in ${(k)PACKAGES}; do
	if [ "$FULLFIRE" = "true" ] || ! type ${PACKAGES[$PKG]} > /dev/null; then
		npm i -g $PKG
	# else
	# 	echo_info "${PACKAGES[$PKG]} available, skip install of $PKG"
	fi
done
