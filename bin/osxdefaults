#!/bin/zsh

echo_title "Defining OS X options"

### http://superuser.com/questions/455755/how-to-explore-more-defaults-write-tweaks-on-os-x
#
# For most non-hidden settings, this is how you can find the correct preference keys in Terminal.app:
#
# 	defaults read > a
# 	# Change the setting
# 	defaults read > b
# 	diff a b
#
# For hidden settings, it gets trickier. You can use the command-line strings utility on any binary executable and see if any of the resulting text looks like a preference key. E.g.:
#
# 	strings /System/Library/CoreServices/Finder.app/Contents/MacOS/Finder
#
# Here’s another example that will look through all .framework files in /System/Library/Frameworks/ and filter the output somewhat:
#
# 	strings /System/Library/Frameworks/*.framework/Versions/Current/* /System/Library/Frameworks/*/Frameworks/*/Versions/Current/* 2> /dev/null | grep -E '^[a-zA-Z0-9_.-]{10,80}$' | sort | uniq
#
# There’s also a tool called GDB which can be used to find hidden preferences.
###

chflags hidden $HOME/"Automatically Add to iTunes.localized"
chflags nohidden $HOME/Library

## Defaults

# recovery_message 'If this Mac is found, please call +33 6 78 13 54 39 - Si vous trouvez ce Mac, merci d\'appeler le 06 78 13 54 39': }
# https://github.com/boxen/puppet-osx/blob/master/manifests/recovery_message.pp

# Dashboard.app not ass a space
defaults write com.apple.dock dashboard-in-overlay -bool true

# Faster animation when switching spaces
defaults write com.apple.dock expose-animation-duration -float 0.15

# no .DS_Store on newtwork
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true

# disk utility debug menu
defaults write com.apple.DiskUtility DUDebugMenuEnabled -bool true

# disable auto correct
defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false

# expand save dialog
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

# expand print dialog
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true

# keyboard control access
defaults write NSGlobalDomain AppleKeyboardUIMode 3

# no boucing icons
defaults write com.apple.dock no-bouncing -bool true

# dim hidden apps
defaults write com.apple.dock showhidden -bool true

# todo dock default size 36

# remove download quarantine
defaults write com.apple.LaunchServices LSQuarantine -bool false

# Use scroll gesture with the Ctrl (^) key to zoom
defaults write com.apple.universalaccess HIDScrollZoomModifierMask 262144

# disable zoom with cmd+scroll
defaults write com.apple.universalaccess closeViewScrollWheelToggle -bool false

# Enable AirDrop over Ethernet and on unsupported Macs:
defaults write com.apple.NetworkBrowser BrowseAllInterfaces -bool true

# todo
# machine name
# network sharing
# configure ssh access + change port
# update default Contacts.app template
# configure opendns

