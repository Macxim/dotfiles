#!/bin/zsh

# define zsh as default shell
chsh -s /bin/zsh $USER

echo "Visit https://appleseed.apple.com/sp/betaprogram to get OS X beta update"
open "https://appleseed.apple.com/sp/betaprogram"
read -k

if ! type "git" > /dev/null; then
  if [[ "$(uname -s)" == "Darwin" ]]
  then
    # todo add an alternative to grab xcode from another computer accessible by local network
    xcode-select --install
    echo "Press return when XCode Developer Tools are installed"
    read -k
  fi
fi

if [[ ! -d $HOME/dotfiles ]]
then
  git clone http://github.com/MoOx/dotfiles.git $HOME/dotfiles
  git submodule init
else
  cd $HOME/dotfiles
  git pull
fi
git submodule update

. $HOME/dotfiles/bin/fireinthehole --full

# todo add login items

if ! type "say" > /dev/null
then
  say "YO BITCH, setup is done \!"
  sleep 5
  say "HEY BITCH ! Did you heard what I just said \?"
fi
